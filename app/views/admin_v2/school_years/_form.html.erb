<%= form_with model: @school_year, url: @school_year.persisted? ? admin_v2_school_year_path(@school_year) : admin_v2_school_years_path, builder: AdminV2::FormBuilder, class: "space-y-6" do |f| %>
  <div class="bg-white shadow-sm ring-1 ring-gray-900/5 rounded-lg">
    <div class="px-6 py-6">
      <h3 class="text-lg font-medium text-gray-900 mb-6">School Year Details</h3>

      <%= f.select :school_id,
                   options_from_collection_for_select(
                     School.order(:name),
                     :id,
                     :name,
                     @school_year.school_id
                   ),
                   label: "School",
                   hint: "Select the school for this school year",
                   include_blank: "Select a school" %>

      <%= f.select :year_id,
                   options_from_collection_for_select(
                     Year.ordered_by_start_year,
                     :id,
                     :name,
                     @school_year.year_id
                   ),
                   label: "Year",
                   hint: "Select the year for this school year",
                   include_blank: "Select a year" %>

      <% if @school_year.new_record? %>
        <div class="mt-6 pt-6 border-t border-gray-200">
          <p class="text-sm text-gray-600">
            <i class="fas fa-info-circle mr-1"></i>
            Four quarters will be automatically created for this school year.
          </p>
        </div>
      <% end %>
    </div>
  </div>

  <div class="flex items-center justify-end gap-x-4">
    <%= f.cancel_button "Cancel", url: @school_year.persisted? ? admin_v2_school_year_path(@school_year) : admin_v2_school_years_path %>
    <%= f.submit_button @school_year.persisted? ? "Update School Year" : "Create School Year" %>
  </div>
<% end %>
