<%= form_with model: @portfolio_stock, url: @portfolio_stock.persisted? ? admin_v2_portfolio_stock_path(@portfolio_stock) : admin_v2_portfolio_stocks_path, builder: AdminV2::FormBuilder, class: "space-y-6" do |f| %>
  <div class="bg-white shadow-sm ring-1 ring-gray-900/5 rounded-lg">
    <div class="px-6 py-6">
      <h3 class="text-lg font-medium text-gray-900 mb-6">Portfolio Stock Details</h3>

      <%= f.select :portfolio_id,
                   options_from_collection_for_select(
                     Portfolio.order(:id),
                     :id,
                     :id,
                     @portfolio_stock.portfolio_id
                   ),
                   label: "Portfolio",
                   hint: "Select the portfolio",
                   include_blank: "Select a portfolio" %>

      <%= f.select :stock_id,
                   options_from_collection_for_select(
                     Stock.order(:ticker),
                     :id,
                     :ticker,
                     @portfolio_stock.stock_id
                   ),
                   label: "Stock",
                   hint: "Select the stock",
                   include_blank: "Select a stock" %>

      <%= f.number_field :purchase_price,
                         label: "Purchase Price",
                         hint: "Enter the purchase price per share",
                         placeholder: "0.00",
                         step: "0.01" %>

      <%= f.number_field :shares,
                         label: "Shares",
                         hint: "Enter the number of shares",
                         placeholder: "0.00",
                         step: "0.01" %>
    </div>
  </div>

  <div class="flex items-center justify-end gap-x-4">
    <%= f.cancel_button "Cancel", url: @portfolio_stock.persisted? ? admin_v2_portfolio_stock_path(@portfolio_stock) : admin_v2_portfolio_stocks_path %>
    <%= f.submit_button @portfolio_stock.persisted? ? "Update Portfolio Stock" : "Create Portfolio Stock" %>
  </div>
<% end %>
