<!-- TODO: make price display with two decimal places -->
<div class="grid grid-cols-[1fr_auto_auto] items-center gap-4">
    <% stock = Stock.find_by(id: portfolio_stock.stock_id) %>
    <div>
        <h3 class="font-medium">
            <%= stock.company_name %> (<%= stock.ticker %>)
            <% if stock.archived? %>
              <span class="text-gray-400 text-sm font-medium">ARCHIVED</span>
            <% end %>
        </h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">
            <%= portfolio_stock.shares %> shares
        </p>
    </div>
    <div class="text-right">
        <p class="font-medium">
            <!-- Current Price -->
            <!-- will be calculated from `stock.price` -->
            $120.00
        </p>
        <p class="text-sm text-gray-500 dark:text-gray-400">
            <!-- Purchased at price -->
            $ <%= portfolio_stock.purchase_price %>
        </p>
    </div>
    <div class="flex gap-2">
        <% if stock.archived? %>
          <button disabled class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:-ring-3 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background h-9 rounded-md px-3">
              Buy
          </button>
        <% else %>
          <%= link_to "Buy", new_order_path(stock_id: stock.id, transaction_type: :buy), class: "inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-3 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3" %>
        <% end %>

        <%= link_to "Sell", new_order_path(stock_id: stock.id, transaction_type: :sell), class: "inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-3 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3" %>
    </div>
</div>
