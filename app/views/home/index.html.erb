<%# Home Dashboard Page - aligns with portfolio card styling and app color palette %>
<div class="max-w-[1180px] mx-auto space-y-6 pb-16" style="font-family: Inter, system-ui, sans-serif;">
	<!-- Welcome / Funds Banner (Hero) -->
	<div class="relative mb-8">
		<div class="hero-banner rounded-[20px] border-2 border-black bg-gradient-to-r from-[#F4D18D] to-[#F8DBA8] px-8 md:px-10 py-6 md:py-8 flex flex-col md:flex-row gap-4 md:gap-6 items-start md:items-center justify-between relative">
			<!-- Decorative coins scattered in background -->
			<div class="flex-1 flex flex-col gap-2 pr-0 md:pr-8 relative z-10">
				<div class="flex flex-col sm:flex-row sm:items-center sm:gap-4">
					<% if user_signed_in? %>
						<p class="font-semibold tracking-tight mb-2 sm:mb-0 text-gray-900" style="font-size: 28px;">Hi, <%= current_user.username.presence || 'Username' %>!</p>
					<% end %>
					<% if current_user&.student? && current_user.portfolio %>
						<div class="funds-pill inline-flex items-center gap-5 rounded-full border-2 border-black bg-white py-5 text-xl md:text-2xl font-medium shadow-md relative tracking-tight" style="padding-left: 125px; padding-right: 150px;">
							<%= image_tag 'party_popper.png', class: 'object-contain absolute', style: 'height: 100px; width: 100px; margin-left: -110px; top: -45px;', alt: 'Party popper celebration' %>
							<span class="leading-snug">You have <strong><%= number_to_currency(current_user.portfolio.cash_balance) %></strong> to invest! Lets Get Trading!</span>
						</div>
					<% end %>
				</div>
				<h1 class="text-[32px] md:text-[40px] font-bold tracking-tight leading-tight mt-3 text-gray-900">WELCOME TO YOUR FINANCIAL JOURNEY!</h1>
				<p class="text-base md:text-lg text-gray-800 mt-1 font-medium">This Is Your Launchpad To Earn, Invest, And Grow.</p>
			</div>
			<!-- Piggy Bank Illustration -->
			<div class="hidden sm:block absolute -bottom-8 right-4 md:right-8 z-20">
				<%= image_tag 'piggy_bank.png', class: 'w-[200px] md:w-[240px] lg:w-[280px] h-auto object-contain', alt: 'Piggy bank with coins' %>
			</div>
		</div>
	</div>

	<!-- Middle Two-Column Section: Images (left) + Announcements (right) -->
	<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch mt-12">
		<!-- Left Images -->
		<div class="flex items-center justify-center">
			<div class="flex gap-4 justify-center items-center w-full">
				<%= image_tag 'girl_skateboarding_holding_laptop.png', class: 'w-1/2 max-w-[240px] h-auto object-contain pointer-events-none select-none', alt: 'Student with laptop' %>
				<%= image_tag 'boy_using_computer.png', class: 'w-1/2 max-w-[240px] h-auto object-contain pointer-events-none select-none', alt: 'Student using computer' %>
			</div>
		</div>

		<!-- Right Announcements -->
		<div class="flex">
			<div class="rounded-xl border-2 border-black overflow-hidden bg-white w-full flex flex-col">
				<div class="bg-teal-500 text-white py-3 px-5 font-semibold text-base tracking-wide border-b-2 border-black">Announcements</div>
				<div class="p-6 text-sm text-gray-600 min-h-[200px] flex flex-col">
					<% if @current_announcement %>
						<% cache @current_announcement do %>
							<div class="space-y-3">
								<h3 class="font-semibold text-gray-900 text-base"><%= @current_announcement.title %></h3>
								<div class="text-gray-700 trix-content">
									<%= @current_announcement.excerpt %>
								</div>
								<%= link_to "Read More", announcement_path(@current_announcement), class: "inline-flex items-center text-teal-600 hover:text-teal-700 font-medium text-sm mt-2" %>
							</div>
						<% end %>
					<% else %>
						<p class="italic text-gray-400">No announcements yet.</p>
					<% end %>
				</div>
			</div>
		</div>
	</div>

	<!-- Getting Started Full Width -->
	<div class="rounded-xl border-2 border-black bg-white overflow-hidden">
		<div class="bg-[#d3df44] py-3 px-5 font-semibold text-base tracking-wide border-b-2 border-black">Getting Started</div>
		<div class="px-8 pt-8 pb-10 grid grid-cols-1 md:grid-cols-4 gap-6 text-sm">
			<% steps = [
				{ num: '1_Number', title: 'Earn Funds', body: 'Show Up, Stay Engaged, And Earn Investment Funds Based On Your Attendance, Participation, And Performance.' },
				{ num: '2_Number', title: 'Go To The Trading Floor', body: 'Once You Have Funds, Explore The Trading Floor And The Companyâ€™s To Buy Your First Stock.' },
				{ num: '3_Number', title: 'Buy & Sell', body: 'Choose Your Companies Wisely! You Can Buy And Sell As Your Portfolio Grows. Watch Your Earnings Change Based On The Market.' },
				{ num: '4_Number', title: 'Track Your Progress', body: 'Your Portfolio Shows How Your Investments Are Performing Over Time, Plus Summaries Of Your Grades And Attendance.' }
			] %>
			<% steps.each do |s| %>
				<div class="flex gap-3 md:gap-2 items-start">
					<div class="pr-1"><%= image_tag "#{s[:num]}.png", alt: "Step #{s[:num]}", class: "w-40 h-20" %></div>
					<div class="space-y-1">
						<p class="font-semibold leading-snug"><%= s[:title] %></p>
						<p class="text-[13px] text-gray-700 leading-snug"><%= s[:body] %></p>
					</div>
				</div>
			<% end %>
		</div>
	</div>
</div>

<%# Future ideas: render partials for announcements, dynamic steps, and maybe a quick links panel %>
